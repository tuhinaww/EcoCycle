<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800"
    />

    <title>EcoCycle - Smarter Recycling</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-[#111714] dark group/design-root overflow-x-hidden"
      style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'
    >
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#29382f] px-10 py-3">
          <div class="flex items-center gap-4 text-white">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <a href="index.html" class="text-white text-lg font-bold leading-tight tracking-[-0.015em] text-[#1fe06f]">EcoCycle</a>
          </div>
          <div class="flex flex-1 justify-end gap-8">
            <div class="flex items-center gap-9">
              <a class="text-white text-sm font-medium leading-normal" href="wastesort.html">Waste Sorting</a>
              <a class="text-white text-sm font-medium leading-normal" href="marketplace.html">Marketplace</a>
              <a class="text-white text-sm font-medium leading-normal" href="minigame.html">Play & Learn</a>
              <a class="text-white text-sm font-medium leading-normal" href="login.html">Log In</a>
            </div>
            <button
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1fe06f] text-[#111714] text-sm font-bold leading-normal tracking-[0.015em]"
            >
            <a href="signup.html"><span class="truncate">Join Us</span></a>
            </button>
          </div>
        </header>
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="@container">
              <div class="@[480px]:p-4">
                <div
                  class="flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10"
                  style='background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/94dad476-7900-44af-828a-d58cc5af7c41.png");'
                >
                  <div class="flex flex-col gap-2 text-left">
                    <h1
                      class="text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]"
                    >
                      Revive, Reuse, Restore!
                    </h1>
                    <h2 class="text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal">
                      Take the guesswork out of recycling! We make eco-friendly waste disposal effortless, ensuring a cleaner, greener future.
                    </h2>
                  </div>
                  <button
                    id="learnMoreBtn"
                    class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 @[480px]:h-12 @[480px]:px-5 bg-[#1fe06f] text-[#111714] text-sm font-bold leading-normal tracking-[0.015em] @[480px]:text-base @[480px]:font-bold @[480px]:leading-normal @[480px]:tracking-[0.015em]"
                  >
                    <span class="truncate">Learn More</span>
                  </button>
                </div>
              </div>
            </div>
            <div id="howItWorks" class="flex flex-col gap-10 px-4 py-10 @container">
              <div class="flex flex-col gap-4">
                <h1
                  class="text-white tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]"
                >
                  How EcoCycle Works
                </h1>
                <p class="text-white text-base font-normal leading-normal max-w-[720px]">
                  EcoCycle makes recycling effortless. Simply scan, schedule, and let us handle the rest. Together, we can build a waste-free world!
                </p>
              </div>
              <div class="grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3">
                <div class="flex flex-col gap-3 pb-3">
                  <div
                    class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl"
                    style='background-image: url("https://cdn.usegalileo.ai/sdxl10/af3c558f-36e0-45f8-9005-e905297ce2da.png");'
                  ></div>
                  <div>
                    <p class="text-white text-base font-medium leading-normal">Scan & Sort</p>
                    <p class="text-[#9eb7a9] text-sm font-normal leading-normal">Use our app to identify the best way to recycle your waste.</p>
                  </div>
                </div>
                <div class="flex flex-col gap-3 pb-3">
                  <div
                    class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl"
                    style='background-image: url("https://cdn.usegalileo.ai/sdxl10/a4acdc6c-1001-4d87-9e64-9b900328581d.png");'
                  ></div>
                  <div>
                    <p class="text-white text-base font-medium leading-normal">Recycle with Ease</p>
                    <p class="text-[#9eb7a9] text-sm font-normal leading-normal">We connect you to the best recycling partners near you.</p>
                  </div>
                </div>
                <div class="flex flex-col gap-3 pb-3">
                  <div
                    class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl"
                    style='background-image: url("https://cdn.usegalileo.ai/sdxl10/9861cb32-737d-46e8-a291-3f79e2650ba3.png");'
                  ></div>
                  <div>
                    <p class="text-white text-base font-medium leading-normal">Repurpose & Reuse</p>
                    <p class="text-[#9eb7a9] text-sm font-normal leading-normal">Turn waste into valuable, upcycled products.</p>
                  </div>
                </div>
                <div class="flex flex-col gap-3 pb-3">
                  <div
                    class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl"
                    style='background-image: url("https://cdn.usegalileo.ai/sdxl10/559c0340-3b38-4f3a-a437-416e5b9d19a2.png");'
                  ></div>
                  <div>
                    <p class="text-white text-base font-medium leading-normal">Play & Learn</p>
                    <p class="text-[#9eb7a9] text-sm font-normal leading-normal">Enjoy mini-games while learning about sustainability!</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
<!-- Footer -->
<footer class="bg-[#0c100d] py-8 px-10 md:px-20 lg:px-40">
  <div class="max-w-[960px] mx-auto">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <div class="flex items-center gap-2 mb-4">
          <div class="size-4">
            <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z"
                fill="#1fe06f"
              ></path>
            </svg>
          </div>
          <h2 class="text-white text-lg font-bold">EcoCycle</h2>
        </div>
        <p class="text-[#9eb7a9] text-sm">Revive, Reuse, Restore!</p>
      </div>
      <div class="md:col-span-3">
        <h3 class="text-white font-bold mb-4">Project made by:</h3>
        <ul class="text-[#9eb7a9] text-sm space-y-2">
          <li>Tuhina Tripathi (RA2211003010423) - <a href="mailto:tt4102@srmist.edu.in" class="hover:text-[#1fe06f]">tt4102@srmist.edu.in</a></li>
          <li>Akanksha Rathore (RA2211003010396) - <a href="mailto:ar2846@srmist.edu.in" class="hover:text-[#1fe06f]">ar2846@srmist.edu.in</a></li>
          <li class="text-[#1fe06f] font-medium">Project Name: Ecocycle: Revive, Reuse, Restore!</li>
        </ul>
      </div>
    </div>
    <div class="border-t border-[#29382f] mt-8 pt-6 text-[#9eb7a9] text-sm flex flex-col md:flex-row justify-between items-center">
      <div class="mb-4 md:mb-0">Â© 2025 EcoCycle. All rights reserved.</div>
      <div class="flex gap-6">
        <a href="#" class="hover:text-[#1fe06f]">Privacy Policy</a>
        <a href="#" class="hover:text-[#1fe06f]">Terms of Service</a>
        <a href="#" class="hover:text-[#1fe06f]">Cookie Policy</a>
      </div>
    </div>
  </div>
</footer>

<!-- Chatbot Container -->
<div id="chatbot-container" class="fixed bottom-6 right-6 z-50">
  <!-- Chat Button -->
  <button id="chat-button" class="flex items-center justify-center w-16 h-16 rounded-full bg-[#1fe06f] text-[#111714] shadow-lg hover:bg-[#19c761] transition-all duration-300">
    <!-- Plant Icon -->
    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M12 22c6.5-1 9-6.5 9-11 0-3-2-4-4-4-4 0-5 6-5 6s-1-6-5-6c-2 0-4 1-4 4 0 4.5 2.5 10 9 11z"/>
      <path d="M12 22V15"/>
    </svg>
  </button>
  
  <!-- Chat Window -->
  <div id="chat-window" class="hidden flex flex-col w-96 h-[500px] bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all duration-300">
    <!-- Chat Header -->
    <div class="flex items-center justify-between bg-[#111714] px-6 py-4">
      <div class="flex items-center">
        <!-- Plant Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-[#1fe06f]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 22c6.5-1 9-6.5 9-11 0-3-2-4-4-4-4 0-5 6-5 6s-1-6-5-6c-2 0-4 1-4 4 0 4.5 2.5 10 9 11z"/>
          <path d="M12 22V15"/>
        </svg>
        <span class="text-white font-bold text-lg">EcoCycle Assistant</span>
      </div>
      <button id="close-chat" class="text-white hover:text-[#1fe06f] p-1 rounded-full hover:bg-[#29382f] transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    
    <!-- Chat Messages -->
    <div id="chat-messages" class="flex-1 p-5 overflow-y-auto bg-gray-50 space-y-4">
      <div class="flex flex-col space-y-4">
        <div class="flex items-start">
          <div class="flex-shrink-0 mr-3">
            <div class="size-8 bg-[#111714] rounded-full flex items-center justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-[#1fe06f]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 22c6.5-1 9-6.5 9-11 0-3-2-4-4-4-4 0-5 6-5 6s-1-6-5-6c-2 0-4 1-4 4 0 4.5 2.5 10 9 11z"/>
                <path d="M12 22V15"/>
              </svg>
            </div>
          </div>
          <div class="bg-white p-4 rounded-2xl rounded-tl-none max-w-[80%] shadow-sm border border-gray-100">
            <p class="text-gray-800">ðŸ‘‹ Hi there! I'm your EcoCycle assistant. How can I help you with recycling today?</p>
          </div>
        </div>
        <!-- More messages will be added here dynamically -->
      </div>
    </div>
    
    <!-- Chat Input -->
<div class="border-t border-gray-200 p-4 bg-white">
  <div class="flex items-center rounded-full border border-gray-300 bg-white overflow-hidden focus-within:ring-2 focus-within:ring-[#1fe06f] focus-within:border-transparent">
    <input id="chat-input" type="text" placeholder="Type your message..." class="flex-1 outline-none text-gray-700 border-none px-4 py-2">
    <button id="send-message" class="bg-[#1fe06f] text-[#111714] p-2 rounded-full font-medium hover:bg-[#19c761] transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M22 2L11 13"/>
        <path d="M22 2l-7 20-4-9-9-4 20-7z"/>
      </svg>
    </button>
  </div>
</div>
  </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Get elements
  const chatButton = document.getElementById('chat-button');
  const chatWindow = document.getElementById('chat-window');
  const closeChat = document.getElementById('close-chat');
  const chatMessages = document.getElementById('chat-messages');
  const chatInput = document.getElementById('chat-input');
  const sendMessage = document.getElementById('send-message');
  
  // Update all SVG icons with the tidyman icon
  const tidymanIconURL = 'https://openclipart.org/download/307415/1538298822.svg';
  
  // Update the chat button HTML
  chatButton.innerHTML = `
    <img src="${tidymanIconURL}" alt="EcoCycle" class="h-8 w-8 rounded-full">
  `;
  
  // Cohere API key and endpoint
  const COHERE_API_KEY = 'vqTAy8oT835Zdr3JhSoiwjCkxNxWXO2Aif9n10JM';
  const COHERE_API_URL = 'https://api.cohere.ai/v1/chat';
  
  // Chat history for context
  let chatHistory = [];
  
  // Toggle chat window
  chatButton.addEventListener('click', function() {
    chatWindow.classList.toggle('hidden');
    if (!chatWindow.classList.contains('hidden')) {
      chatInput.focus();
    }
  });
  
  // Close chat window
  closeChat.addEventListener('click', function() {
    chatWindow.classList.add('hidden');
  });
  
  // Add user message to chat
  function addUserMessage(message) {
    const messageElement = document.createElement('div');
    messageElement.classList.add('flex', 'items-start', 'justify-end', 'mt-4');
    messageElement.innerHTML = `
      <div class="bg-[#1fe06f] p-4 rounded-2xl rounded-tr-none max-w-[80%] shadow-sm">
        <p class="text-[#111714]">${message}</p>
      </div>
    `;
    chatMessages.querySelector('.flex.flex-col').appendChild(messageElement);
    chatMessages.scrollTop = chatMessages.scrollHeight;
    
    // Add to chat history
    chatHistory.push({
      role: "USER",
      message: message
    });
  }
  
  // Add bot message to chat
  function addBotMessage(message) {
    // Convert to bullet points if not already in bullet format
    let formattedMessage = message;
    if (!message.includes('â€¢') && !message.includes('<ul>') && !message.includes('<li>')) {
      // Split by sentences and create bullet points (basic approach)
      const sentences = message.split(/[.!?]+/).filter(sentence => sentence.trim().length > 0);
      if (sentences.length > 1) {
        formattedMessage = sentences.map(sentence => `â€¢ ${sentence.trim()}`).join('<br>');
      }
    }
    
    const messageElement = document.createElement('div');
    messageElement.classList.add('flex', 'items-start', 'mt-4');
    messageElement.innerHTML = `
      <div class="flex-shrink-0 mr-3">
        <div class="size-8 bg-[#111714] rounded-full flex items-center justify-center overflow-hidden">
          <img src="${tidymanIconURL}" alt="EcoCycle" class="h-8 w-8">
        </div>
      </div>
      <div class="bg-white p-4 rounded-2xl rounded-tl-none max-w-[80%] shadow-sm border border-gray-100">
        <p class="text-gray-800">${formattedMessage}</p>
      </div>
    `;
    chatMessages.querySelector('.flex.flex-col').appendChild(messageElement);
    chatMessages.scrollTop = chatMessages.scrollHeight;
    
    // Add to chat history
    chatHistory.push({
      role: "CHATBOT",
      message: message
    });
  }
  
  // Add loading indicator
  function addLoadingIndicator() {
    const loadingElement = document.createElement('div');
    loadingElement.id = 'loading-indicator';
    loadingElement.classList.add('flex', 'items-start', 'mt-4');
    loadingElement.innerHTML = `
      <div class="flex-shrink-0 mr-3">
        <div class="size-8 bg-[#111714] rounded-full flex items-center justify-center overflow-hidden">
          <img src="${tidymanIconURL}" alt="EcoCycle" class="h-8 w-8">
        </div>
      </div>
      <div class="bg-white p-4 rounded-2xl rounded-tl-none shadow-sm border border-gray-100">
        <div class="flex space-x-2">
          <div class="size-2 bg-[#1fe06f] rounded-full animate-bounce opacity-75"></div>
          <div class="size-2 bg-[#1fe06f] rounded-full animate-bounce opacity-75" style="animation-delay: 0.2s"></div>
          <div class="size-2 bg-[#1fe06f] rounded-full animate-bounce opacity-75" style="animation-delay: 0.4s"></div>
        </div>
      </div>
    `;
    chatMessages.querySelector('.flex.flex-col').appendChild(loadingElement);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }
  
  // Remove loading indicator
  function removeLoadingIndicator() {
    const loadingIndicator = document.getElementById('loading-indicator');
    if (loadingIndicator) {
      loadingIndicator.remove();
    }
  }
  
  // Get response from Cohere API
async function getCohereResponse(message) {
  try {
    const response = await fetch(COHERE_API_URL, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${COHERE_API_KEY}`,
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      },
      body: JSON.stringify({
        message: message,
        model: "command",
        max_tokens: 100,  // Limit response length
        temperature: 0.7, // Add some randomness to make responses more varied
        preamble: "You are an eco-friendly assistant for EcoCycle. Your name is EcoCycle Assistant. CRITICAL: Keep all responses under 100 tokens total, as brief points (2-3 max). Help users with recycling questions. Be friendly but extremely concise.",
        chat_history: chatHistory
      })
    });
    
    if (!response.ok) {
      throw new Error('Failed to get response from Cohere API');
    }
    
    const data = await response.json();
    
    // Enforce length limit on client side too
    let text = data.text || "I'm sorry, I couldn't process your request right now.";
    
    // Ensure response is in bullet format
    if (!text.includes('â€¢')) {
      // Convert to bullets and limit to 3 points
      const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
      const limitedSentences = sentences.slice(0, 3);
      text = limitedSentences.map(s => `â€¢ ${s.trim()}`).join('\n');
    }
    
    // If still too long, truncate
    const bulletPoints = text.split('\n');
    if (bulletPoints.length > 3) {
      text = bulletPoints.slice(0, 3).join('\n');
    }
    
    return text;
  } catch (error) {
    console.error('Error getting response from Cohere:', error);
    return "â€¢ I'm having trouble connecting right now.\nâ€¢ Please try again later.";
  }
}
  
  // Function to handle sending messages
  async function sendUserMessage() {
    const message = chatInput.value.trim();
    if (message === '') return;
    
    // Add user message to chat
    addUserMessage(message);
    chatInput.value = '';
    
    // Add loading indicator
    addLoadingIndicator();
    
    // Get response from Cohere
    try {
      const botResponse = await getCohereResponse(message);
      
      // Remove loading indicator and add bot response
      removeLoadingIndicator();
      addBotMessage(botResponse);
    } catch (error) {
      console.error('Error:', error);
      // Remove loading indicator and show error message
      removeLoadingIndicator();
      addBotMessage("â€¢ I'm having trouble connecting right now.\nâ€¢ Please try again later.");
    }
  }
  
  // Send message on button click
  sendMessage.addEventListener('click', sendUserMessage);
  
  // Send message on Enter key press
  chatInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      sendUserMessage();
    }
  });
  
  // Update the initial message avatar too
  const initialMessageAvatar = chatMessages.querySelector('.flex.flex-col .flex.items-start .flex-shrink-0 .size-8');
  if (initialMessageAvatar) {
    initialMessageAvatar.innerHTML = `<img src="${tidymanIconURL}" alt="EcoCycle" class="h-8 w-8">`;
  }
});
      // Get the Learn More button and How It Works section
      const learnMoreBtn = document.getElementById('learnMoreBtn');
      const howItWorksSection = document.getElementById('howItWorks');
      
      // Add click event listener to the button
      learnMoreBtn.addEventListener('click', function() {
        // Scroll to the How It Works section smoothly
        howItWorksSection.scrollIntoView({ 
          behavior: 'smooth' 
        });
      });
    </script>
  </body>
</html>